<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details</title>
    <meta name="description" content="Detailed review of [Product Name]">
    <meta property="og:title" content="[Product Name]">
    <meta property="og:description" content="Detailed review of [Product Name]">
    <meta property="og:image" content="/assets/images/products/[product-image].jpg">
    <meta property="og:url" content="https://yourdomain.com/products/[product-slug].html">
    <meta property="og:type" content="product">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="stylesheet" href="/assets/css/responsive.css">
</head>
<body id="product-page">
    <header>
        <nav>
            <a href="/" class="site-logo">Your Logo</a>
            <ul id="main-nav">
                <li><a href="/">Home</a></li>
                <li><a href="/products/">Products</a></li>
                <li><a href="/blog/">Blog</a></li>
                <li><a href="/about.html">About</a></li>
                <li><a href="/contact.html">Contact</a></li>
            </ul>
            <button class="hamburger-menu">â˜°</button>
        </nav>
    </header>

    <main id="product-detail-container">
        <p>Loading product details...</p>
    </main>

    <footer>
        <p>&copy; <span id="current-year"></span> Your Site Name. All rights reserved.</p>
        <div class="social-links" id="footer-social-links"></div>
        <ul>
            <li><a href="/privacy-policy.html">Privacy Policy</a></li>
            <li><a href="/terms-of-service.html">Terms of Service</a></li>
            <li><a href="/sitemap.xml">Sitemap</a></li>
        </ul>
    </footer>

    <script src="/assets/js/main.js"></script>
    <script src="/assets/js/seo-optimizer.js"></script>
    <script>
        // Product page specific rendering logic in main.js
        function renderProductPage() {
            // Get product ID from URL (e.g., /products/index.html?id=noise-cancelling-headphones)
            const urlParams = new URLSearchParams(window.location.search);
            const productId = urlParams.get('id');

            if (!productId) {
                document.getElementById('product-detail-container').innerHTML = "<p>Product not found.</p>";
                return;
            }

            const product = productsData.find(p => p.id === productId);

            if (!product) {
                document.getElementById('product-detail-container').innerHTML = "<p>Product not found.</p>";
                return;
            }

            // Populate content
            document.title = `${product.name} Review | ${siteConfig.siteTitle}`;
            document.querySelector('meta[name="description"]').setAttribute('content', `Detailed review of ${product.name}. Find out pros, cons, and buy on Amazon.`);
            document.querySelector('meta[property="og:title"]').setAttribute('content', product.name);
            document.querySelector('meta[property="og:description"]').setAttribute('content', `Detailed review of ${product.name}. Find out pros, cons, and buy on Amazon.`);
            document.querySelector('meta[property="og:image"]').setAttribute('content', `/assets/images/products/${product.images[0]}`);
            document.querySelector('meta[property="og:url"]').setAttribute('content', window.location.href);

            document.getElementById('product-detail-container').innerHTML = `
                <section class="product-detail">
                    <h1>${product.name}</h1>
                    <div class="product-gallery">
                        ${product.images.map(img => `<img src="/assets/images/products/${img}" alt="${product.name}" loading="lazy">`).join('')}
                    </div>
                    <p class="product-price">Price: <strong>${product.price}</strong></p>
                    <a href="${product.amazonUrl}" target="_blank" rel="nofollow noopener" class="btn-buy-now">Buy on Amazon</a>

                    <div class="product-description">
                        <h3>Description</h3>
                        <p>${product.description}</p>
                    </div>

                    <div class="pros-cons">
                        <div class="pros">
                            <h3>Pros</h3>
                            <ul>${product.pros.map(pro => `<li>${pro}</li>`).join('')}</ul>
                        </div>
                        <div class="cons">
                            <h3>Cons</h3>
                            <ul>${product.cons.map(con => `<li>${con}</li>`).join('')}</ul>
                        </div>
                    </div>

                    ${product.faq && product.faq.length > 0 ? `
                        <div class="faq-section">
                            <h3>Frequently Asked Questions</h3>
                            <div class="accordion">
                                ${product.faq.map((item, index) => `
                                    <div class="accordion-item">
                                        <button class="accordion-header" id="faq-header-${index}">${item.question}</button>
                                        <div class="accordion-content" id="faq-content-${index}">
                                            <p>${item.answer}</p>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    ` : ''}

                    <div class="related-products">
                        <h3>Related Products</h3>
                        <div class="product-grid">
                            ${product.relatedProducts.map(relatedId => {
                                const relatedProduct = productsData.find(p => p.id === relatedId);
                                return relatedProduct ? `
                                    <div class="product-card">
                                        <img src="/assets/images/products/${relatedProduct.images[0]}" alt="${relatedProduct.name}" loading="lazy">
                                        <h3>${relatedProduct.name}</h3>
                                        <a href="/products/index.html?id=${relatedProduct.id}" class="btn-secondary">View Details</a>
                                    </div>
                                ` : '';
                            }).join('')}
                        </div>
                    </div>
                </section>
            `;

            // Initialize accordion for FAQ
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const content = header.nextElementSibling;
                    content.classList.toggle('active');
                    header.classList.toggle('active');
                    content.style.maxHeight = content.classList.contains('active') ? content.scrollHeight + "px" : "0";
                });
            });

            // Call SEO functions for schema markup
            generateProductSchema(product);
            if (product.faq && product.faq.length > 0) {
                generateFAQSchema(product.faq);
            }
        }
    </script>
</body>
</html>
